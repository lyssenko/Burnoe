<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤ —Ç–∞–±–ª–∏—Ü–µ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }

        .button {
            padding: 10px 15px;
            font-size: 16px;
            text-decoration: none;
            color: white;
            background-color: #4CAF50;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            display: inline-block;
        }

        .button:hover {
            background-color: #45a049;
        }
    </style>
</head>

<body>
    <h1>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã—Ö –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (—Ç–∞–±–ª–∏—Ü–∞)</h1>
    <h2>{{ actual_name }} vs {{ forecast_name }}</h2>

    {% if comparison_rows %}
    <table>
        <thead>
            <tr>
                <th>–ß–∞—Å</th>
                <th>–§–∞–∫—Ç (–í—Ç¬∑—á/–º¬≤)</th>
                <th>–ü—Ä–æ–≥–Ω–æ–∑</th>
                <th>–û—à–∏–±–∫–∞</th>
                <th>–û—à–∏–±–∫–∞ (%)</th>
            </tr>
        </thead>
        <tbody>
            {% for row in comparison_rows %}
            <tr>
                <td>{{ row.time }}</td>
                <td>{{ row.actual }}</td>
                <td>{{ row.forecast }}</td>
                <td>{{ row.error }}</td>
                <td>{{ row.percent }}</td>
            </tr>
            {% endfor %}
        <tfoot>
            <tr>
                <td><strong>–ò—Ç–æ–≥–æ:</strong></td>
                <td><strong>{{ total_actual }}</strong></td>
                <td><strong>{{ total_forecast }}</strong></td>
                <td></td>
                <td></td>
            </tr>
        </tfoot </tbody> </table> {% else %} <p>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</p>
        {% endif %}

        <br>
        <div style="margin-top: 20px; display: flex; flex-wrap: wrap; gap: 10px;">
            <form action="/compare_table/export" method="get">
                <input type="hidden" name="sensor_actual_id" value="{{ request.args.sensor_actual_id }}">
                <input type="hidden" name="sensor_forecast_id" value="{{ request.args.sensor_forecast_id }}">
                <input type="hidden" name="start_date" value="{{ request.args.start_date }}">
                <input type="hidden" name="end_date" value="{{ request.args.end_date }}">
                <button type="submit" class="button">üì• –°–∫–∞—á–∞—Ç—å CSV</button>
            </form>

            <a href="/" class="button">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
            <a href="/compare_select" class="button">‚Ü© –ö –≤—ã–±–æ—Ä—É —Å–µ–Ω—Å–æ—Ä–æ–≤</a>
        </div>
</body>

</html>